<!DOCTYPE HTML>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <link rel='stylesheet' href='../shared/styles.css' />
  <script src="../shared/script.js"></script>

  <title>Page 2</title>
  <style>
    @import url(sheetD.css);

    /* This should match */
    .page2-test1 {
      color: #021;
    }
    /* This should not match */
    .page2-test2 {
      color: #022;
    }
    /* This doesn't match until the event fires */
    .page2-test3 {
      color: #023;
    }
  </style>

  <link rel="stylesheet" type="text/css" href="sheetA.css">
  <link rel="stylesheet" type="text/css" href="sheetB.css">
  <script>
  /* How quickly do we rush through this? */
  var delay = 500;
  window.addEventListener("load", function() {
    console.log('LOAD from page2.html');
    setTimeout(function() {
      console.log('TIMEOUT from page2.html');
      /* This adds <div class=page2-test3></div> */
      var parent = document.querySelector("#page2-test3-holder");
      var child = document.createElement("div");
      child.classList.add("page2-test3");
      child.appendChild(document.createTextNode(".page2-test3"));
      parent.appendChild(child);
    }, delay);
  });
  </script>
</head>
<body>

<h1>Page 2</h1>

<div class=page2-test1>.page2-test1</div>

<div id=page2-test3-holder></div>

<div class=sheetA-test1>.sheetA-test1</div>
<div class=sheetA-test4>.sheetA-test4</div>
<div class=sheetB-test1>.sheetB-test1</div>
<div class=sheetB-test4>.sheetB-test4</div>
<div class=sheetC-test1>.sheetC-test1</div>
<div class=sheetC-test4>.sheetC-test4</div>
<div class=sheetD-test1>.sheetD-test1</div>
<div class=sheetD-test4>.sheetD-test4</div>

</body>
</html>
